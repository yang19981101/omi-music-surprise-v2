<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<title>çµ¦ä»Šå¤©çš„å¦³çš„å°é©šå–œ</title>
<style>
    body { 
        font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif; 
        background-color: #fff3f3; 
        text-align: center; 
        padding: 80px 20px; 
        color: #c2185b; 
    }
    h1 { font-size: 36px; margin-bottom: 20px; }
    p { font-size: 28px; margin-bottom: 40px; }
    .heart { font-size: 48px; animation: bounce 1.2s infinite; }
    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
</style>
</head>
<body>
<h1>ğŸ ä»Šå¤©çš„å¦³ï¼Œè¾›è‹¦äº†</h1>
<p id="message">æ­£åœ¨è¼‰å…¥æº«æš–è©±èªâ€¦</p>
<div class="heart">â¤ï¸</div>

<audio id="bgm" autoplay loop>
    <source id="audioSrc" src="" type="audio/mpeg" />
    ä½ çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ¨‚æ’­æ”¾ã€‚
</audio>

<script>
(() => {
    const messages = [
        "ä»Šå¤©çš„å¦³ï¼Œæ˜¯ä¼‘æ¯å¤©å—ï¼Ÿä¸ç®¡æ˜¯ä¸æ˜¯ï¼Œéƒ½æƒ³èªªä¸€è²ï¼šå¦³çœŸçš„å¥½æ£’ã€‚",
        "ä¸ç®¡ä»Šå¤©å¤šå¿™ï¼Œéƒ½è¨˜å¾—å·ç©ºå°è‡ªå·±èªªä¸€å¥ï¼šã€å¦³åšå¾—å¾ˆå¥½ã€ã€‚",
        "é€™äº›å°å°çš„åŠªåŠ›ï¼Œçµ‚ç©¶æœƒæœ‰äººçœ‹åˆ°ï¼ŒåŒ…æ‹¬æˆ‘ã€‚",
        "å¦‚æœä»Šå¤©å¾ˆç´¯ï¼Œå°±æ”¾è¼•é¬†é»ï¼Œæ˜å¤©ä¸€æ¨£æœƒæœ‰é™½å…‰ç­‰å¦³ã€‚",
        "å³ä½¿å¤œç­å†æ™šï¼Œä¹Ÿå¸Œæœ›æœ‰æˆ‘çš„ä¸€é»é»é™ªä¼´åœ¨å¦³å¿ƒè£¡ã€‚",
        "æ¯ä¸€æ»´æ±—æ°´ï¼Œæ¯ä¸€å€‹å¤œæ™šï¼Œå¦³éƒ½å€¼å¾—è¢«æº«æŸ”å°å¾…ã€‚",
        "ç´¯äº†çš„æ™‚å€™ï¼Œä¹Ÿè«‹è¨˜å¾—å¦³ä¸æ˜¯ä¸€å€‹äººã€‚"
    ];

    const musics = [
        "https://docs.google.com/uc?export=download&id=14E1cz--hxUEwUg-ZayEQDHb3oZeUJash",
        "https://docs.google.com/uc?export=download&id=18AqFM3Puh0j3ekbW0c0zYxPHNGTX0reP",
        "https://docs.google.com/uc?export=download&id=1RMNbvwKUmktherC0Nf-xSiaAutI4gOvs",
        "https://docs.google.com/uc?export=download&id=1gN8XRAIK3GSSx9tjYfiEn-f4SrsPgjcz",
        "https://docs.google.com/uc?export=download&id=1kNYC6osjmlp7VDUOh87L5hTbaWgmsp7W",
        "https://docs.google.com/uc?export=download&id=1oBwFe6VmOuvuETcaJBQF0BFkoDZH2uO5",
        "https://docs.google.com/uc?export=download&id=1sYGkDeI4Jorqfjx0aVSHgnbPOyc7U5NZ"
    ];

    // éš¨æ©ŸèªéŒ„ä¸é‡è¤‡7å¤©
    let msgHistory = JSON.parse(localStorage.getItem("last7messages")) || [];
    let availableMsg = [...Array(messages.length).keys()].filter(i => !msgHistory.includes(i));
    if(availableMsg.length === 0) { msgHistory = []; availableMsg = [...Array(messages.length).keys()]; }
    const msgIdx = availableMsg[Math.floor(Math.random() * availableMsg.length)];
    msgHistory.push(msgIdx);
    if(msgHistory.length > 7) msgHistory.shift();
    localStorage.setItem("last7messages", JSON.stringify(msgHistory));
    document.getElementById("message").innerText = messages[msgIdx];

    // éš¨æ©ŸéŸ³æ¨‚ä¸é‡è¤‡7å¤©
    let musicHistory = JSON.parse(localStorage.getItem("last7musics")) || [];
    let availableMusic = [...Array(musics.length).keys()].filter(i => !musicHistory.includes(i));
    if(availableMusic.length === 0) { musicHistory = []; availableMusic = [...Array(musics.length).keys()]; }
    const musicIdx = availableMusic[Math.floor(Math.random() * availableMusic.length)];
    musicHistory.push(musicIdx);
    if(musicHistory.length > 7) musicHistory.shift();
    localStorage.setItem("last7musics", JSON.stringify(musicHistory));

    const audioSrc = document.getElementById("audioSrc");
    audioSrc.src = musics[musicIdx];
    document.getElementById("bgm").load();
})();
</script>

</body>
</html>
